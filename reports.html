<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  
  script-src 
    'self'
    https://cdn.jsdelivr.net
    https://unpkg.com
    https://esm.sh;
  
  style-src 
    'self'
    https://fonts.googleapis.com
    https://cdnjs.cloudflare.com
    https://unpkg.com;
  
  font-src 
    'self'
    https://fonts.gstatic.com
    https://cdnjs.cloudflare.com;
  
  img-src 
    'self'
    data:
    https:;
  
  connect-src 
    'self'
    https://*.supabase.co;
  
  frame-src 'none';
  object-src 'none';
  base-uri 'self';
  form-action 'self';
  frame-ancestors 'none';
  
  upgrade-insecure-requests;
  block-all-mixed-content;
">
    <title>๐ ูุธุงู ุฅุจูุงุบ ุงููุทุงุน ุงูููุฑุจุงุก</title>
    
    <!-- ุฑูุงุจุท ุฎุงุฑุฌูุฉ -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ุฑูุงุจุท ุงููููุงุช ุงููุญููุฉ -->
    <link rel="stylesheet" href="reports.css">
    
    <!-- ูููุงุช JavaScript -->
    <script src="./supabase.js" type="module"></script>
</head>

<body>
    <div class="container">
        <!-- ุจุทุงูุฉ ูููุฐุฌ ุงูุจูุงุบ -->
        <div class="card">
            <div class="form-header">
                <i class="fas fa-exclamation-triangle"></i>
                <h2>๐ ุฅุฑุณุงู ุจูุงุบ ุฌุฏูุฏ</h2>
            </div>
            
            <form id="reportForm">
                <div class="input-group">
                    <label><i class="fas fa-bolt"></i> ููุน ุงููุดููุฉ</label>
                    <select id="type" required>
                        <option value="" disabled selected>ุงุฎุชุฑ ููุน ุงููุดููุฉ</option>
                        <option value="ุงููุทุงุน ูุงูู">ุงููุทุงุน ูุงูู</option>
                        <option value="ุงูุฎูุงุถ ุงูุฌูุฏ">ุงูุฎูุงุถ ุงูุฌูุฏ</option>
                        <option value="ูููุถ ูุณุชูุฑ">ูููุถ ูุณุชูุฑ</option>
                        <option value="ุฎุทุฑ ููุฑุจุงุฆู">ุฎุทุฑ ููุฑุจุงุฆู</option>
                        <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                    </select>
                </div>
                
<div class="input-group">
    <label><i class="fas fa-user"></i> ุงูุงุณู</label>
    <input type="text" id="name" required placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" maxlength="20">
</div>

<div class="input-group">
    <label><i class="fas fa-phone"></i> ุฑูู ุงููุงุชู</label>
    <input type="tel" id="phone" pattern="[0-9]{9}" placeholder="7xxxxxxxx" required maxlength="9">
</div>

<div class="input-group">
    <label><i class="fas fa-map-marker-alt"></i> ุงูุญู / ุงูููุทูุฉ</label>
    <input type="text" id="location" required placeholder="ูุซุงู: ุญู ุงููุฎููุ ูุณุท ุงููุฏููุฉ" maxlength="10">
</div>

<div class="input-group">
    <label><i class="fas fa-info-circle"></i> ุชูุงุตูู ุงููุดููุฉ</label>
    <textarea id="details" required placeholder="ุตู ุงููุดููุฉ ุจุงูุชูุตูู (ูุชู ุจุฏุฃุชุ ูุง ุงูุชุฃุซูุฑุ ุฅูุฎ)" maxlength="50"></textarea>
</div>

<div class="progress-bar">
    <div class="progress-fill" id="progressFill"></div>
</div>   
                <button type="submit" class="btn-submit" id="submitBtn">
                    <i class="fas fa-paper-plane"></i> ุฅุฑุณุงู ุงูุจูุงุบ
                </button>
            </form>
        </div>
        
        <!-- ูุงุตู -->
        <div class="separator">
            <span><i class="fas fa-list"></i> ุงูุจูุงุบุงุช ุงูุณุงุจูุฉ</span>
        </div>
        
        <!-- ุจุทุงูุฉ ุนุฑุถ ุงูุจูุงุบุงุช -->
        <div class="card">
            <div class="reports-header">
                <h2>๐ ุงูุจูุงุบุงุช ุงููุณุฌูุฉ</h2>
                <span class="reports-count" id="reportsCount">0 ุจูุงุบ</span>
            </div>
            
            <div id="list" class="loading">
                <i class="fas fa-spinner fa-spin"></i> ุฌุงุฑู ุชุญููู ุงูุจูุงุบุงุช...
            </div>
        </div>
    </div>
    
    <!-- ุญุงููุฉ ุฑุณุงุฆู ุงูุชูุจูู -->
    <div id="alertContainer"></div>
    
    <!-- ููู JavaScript ุงูุฑุฆูุณู -->
    <script src="repoRtS.js" type="module"></script>
</body>
</html>