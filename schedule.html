<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ“… Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„ â€“ ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø¹ØªÙ‚</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">

<style>
/* ===========================
     Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø© Ù…Ø«Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
=========================== */
body{
  background:linear-gradient(to bottom,#0a0a0a,#111,#1a1a1a,#222);
  min-height:100vh;
  margin:0;
  padding:15px;
  font-family:'Cairo',sans-serif;
  color:white;
}

/* ===========================
         Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
=========================== */
header{
  text-align:center;
  margin-bottom:25px;
}

header h1{
  font-size:34px;
  font-weight:800;
  margin-bottom:10px;
}

header p{
  font-size:18px;
  opacity:.9;
}

/* ===========================
         ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
=========================== */
.section{
  width:100%;
  max-width:650px;
  margin:0 auto;
  background:rgba(255,255,255,0.07);
  padding:22px;
  border-radius:18px;
  box-shadow:0 6px 20px rgba(0,0,0,0.45);
  backdrop-filter:blur(6px);
}

/* ===========================
        Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø¯ÙˆÙ„
=========================== */
.item{
  background:rgba(255,255,255,0.05);
  padding:18px;
  border-radius:14px;
  margin-bottom:18px;
  box-shadow:0 4px 14px rgba(0,0,0,0.40);
  transition:0.25s;
}

.item:hover{
  background:rgba(255,255,255,0.12);
  transform:scale(1.02);
}

.item h3{
  margin:0;
  font-size:22px;
  font-weight:800;
  margin-bottom:6px;
  color:#4aa3ff;
}

.item p{
  margin:6px 0;
  font-size:17px;
}

/* ===========================
         ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„
=========================== */
@media (max-width:600px){
  .section{ padding:18px; }
  header h1{ font-size:28px; }
}
</style>
</head>

<body>

<header>
  <h1>ğŸ“… Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„</h1>
  <p>ØªØ´ØºÙŠÙ„ â€“ Ø§Ù†Ø·ÙØ§Ø¡ â€“ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</p>
</header>

<div class="section">
  <div id="list">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
</div>

<script type="module">
import { db } from "./firebase.js";
import { collection, getDocs, query, orderBy } 
  from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const list = document.getElementById("list");

async function loadSchedule() {
  try {
    const q = query(collection(db, "schedule"), orderBy("area", "asc"));
    const snap = await getDocs(q);

    if (snap.empty) {
      list.innerHTML = "<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¬Ø¯ÙˆÙ„ ØªØ´ØºÙŠÙ„.</p>";
      return;
    }

    let html = "";
    snap.forEach(doc => {
      const s = doc.data();
      html += `
        <div class="item">
          <h3>${s.area || "â€”"}</h3>
          <p><strong>ØªØ´ØºÙŠÙ„:</strong> ${s.on || "â€”"}</p>
          <p><strong>Ø§Ù†Ø·ÙØ§Ø¡:</strong> ${s.off || "â€”"}</p>
        </div>
      `;
    });

    list.innerHTML = html;

  } catch (err) {
    list.innerHTML = "<p style='color:red;'>Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>";
  }
}

loadSchedule();
</script>

</body>
</html>
